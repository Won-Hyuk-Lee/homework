package com.kosta.sample.user;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.SQLException;

import javax.sql.DataSource;

import com.kosta.sample.common.MyOracleConnection;

public class UserDAO {
	
	public int userInsert(UserVO uvo) {
		Connection conn = null;
		MyOracleConnection moc = new MyOracleConnection();
		DataSource ds = null;
		PreparedStatement pstmt = null;
			try {
				ds = moc.myOracleDataSource();
				conn = ds.getConnection();
				if(conn != null) System.out.println("conn ok");
				else System.out.println("conn failed");
				String sql = "insert into users values(users_seq.nextval,?,?,?,?,sysdate)";
	            pstmt = conn.prepareStatement(sql);
	            pstmt.setString(1, uvo.getUserid());
	            pstmt.setString(2, uvo.getUname());
	            pstmt.setString(3, uvo.getEmail());
	            pstmt.setString(4, uvo.getPasswd());
	            pstmt.executeUpdate();
				
			} catch (SQLException e) {
				e.printStackTrace();
			}
			

		return 1;
	}

	public boolean userLogin(String userid, String passwd) {
		
		boolean userCheck = true; // rs.next();
		
		return userCheck;
	}

}
